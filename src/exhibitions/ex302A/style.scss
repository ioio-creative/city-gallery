@import '../../setting.scss';
@import url('http://fonts.googleapis.com/earlyaccess/notosanstc.css');

@font-face {
    font-family: 'FuturaLT';
    src: url('../../fonts/FuturaLT-Bold.eot');
    src: url('../../fonts/FuturaLT-Bold.woff2') format('woff2'),
         url('../../fonts/FuturaLT-Bold.woff') format('woff'),
         url('../../fonts/FuturaLT-Bold.ttf') format('truetype'),
         url('../../fonts/FuturaLT-Bold.svg#FuturaLT-Bold') format('svg'),
         url('../../fonts/FuturaLT-Bold.eot?#iefix') format('embedded-opentype');
    font-weight: bold;
    font-style: normal;
}
  
  
@font-face {
    font-family: 'FuturaLT';
    src: url('../../fonts/FuturaLT.eot');
    src: url('../../fonts/FuturaLT.woff2') format('woff2'),
            url('../../fonts/FuturaLT.woff') format('woff'),
            url('../../fonts/FuturaLT.ttf') format('truetype'),
            url('../../fonts/FuturaLT.svg#FuturaLT') format('svg'),
            url('../../fonts/FuturaLT.eot?#iefix') format('embedded-opentype');
    font-weight: normal;
    font-style: normal;
}
  
*{
    -webkit-box-sizing: border-box;
    -moz-box-sizing: border-box;
    box-sizing: border-box;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    padding:0;
    margin:0;
}

$sectionnum: 5;
$halfScreenWidth: 100 / 2;

:root {
    --sectionnum: #{$sectionnum};
}

body{
    background:#000;
    user-select: none;
    cursor: move; /* fallback if grab cursor is unsupported */
    cursor: grab;
    cursor: -moz-grab;
    cursor: -webkit-grab;
    &:active{
        cursor: grabbing;
        cursor: -moz-grabbing;
        cursor: -webkit-grabbing;
    }
    ul, li{
        list-style: none;
    }
}
#home{
    width:100%;
    height:100%;
    overflow: hidden;
    font-family: 'Noto Sans TC' ,sans-serif;
    background: url('./images/bg@2x.png') no-repeat;
    background-size:cover;
    overflow: hidden;
    &:before{
        content:'';
        width:100%;
        height:vw-calc(4);
        background:#fff;
        position: absolute;
        top:50%;
        left:0;
        z-index: 1;
        transform: translate3d(0,-50%,0);
    }
    &:after{
        content:'';
        width:100%;
        height:100%;
        background:#000;
        position: absolute;
        top:0;
        left:0;
        z-index: 0;
        opacity: .9;
    }
    #language{
        position: fixed;
        bottom:vw-calc(84 - 15);
        left:vw-calc(84 - 15);
        z-index: 999;
        display: flex;
        div{
            width:vw-calc(48 + 30);
            height:vw-calc(48 + 30);
            padding:vw-calc(15);
            font-size:vw-calc(20);
            transform: translate3d(0,0,0) scale(1);
            transition: all .6s cubic-bezier(0.16, 1, 0.3, 1);
            &:active{
                transform: translate3d(0,0,0) scale(.8);
            }
            &.active{
                span{
                    background:#fff;
                    color:#000;
                }
            }
            span{
                width:100%;
                height:100%;
                border:vw-calc(1) solid #fff;
                border-radius: 50%;
                display: flex;
                justify-content: center;
                align-items: center;
                color:#fff;
                transition: all .2s cubic-bezier(0.33, 1, 0.68, 1);
            }
        }
    }
    #sectionNav{
        width: vw-calc(553 + (80 / 2 * 2));
        position: fixed;
        top:vw-calc(62);
        left:50%;
        z-index: 997;
        transform: translate3d(-50%,0,0);
        display: flex;
        align-items: center;
        opacity: 1;
        visibility: visible;
        transition: all .6s cubic-bezier(0.65, 0, 0.35, 1);
        &.hide{
            opacity: 0;
            visibility: hidden;
        }
        ul{
            width: 100%;
            display: flex;
            justify-content: space-between;
            position: relative;
            z-index: 1;
            li{
                width:vw-calc(80);
                height: vw-calc(80);
                position: relative;
                transform: translate3d(0,0,0) scale(.9);
                transition: transform 1s cubic-bezier(0.16, 1, 0.3, 1);
                &:before{
                    content:'';
                    width:vw-calc(20);
                    height:vw-calc(20);
                    background:#4A4A4A;
                    border-radius: 50%;
                    position: absolute;
                    top:50%;
                    left:50%;
                    transform: translate3d(-50%,-50%,0) scale(.8);
                    transition: all .3s cubic-bezier(0.65, 0, 0.35, 1);
                }
                &.active{
                    transform: translate3d(0,0,0) scale(1);
                    &:before{
                        background:#fff;
                        transform: translate3d(-50%,-50%,0) scale(1);
                    }
                    span{
                        color:#fff;
                    }
                }
                span{
                    font-size:vw-calc(16);
                    color:#4A4A4A;
                    white-space: nowrap;
                    font-family: sans-serif;
                    position: absolute;
                    top:100%;
                    left:50%;
                    transform: translate3d(-50%,-50%,0);
                    transition: all .3s cubic-bezier(0.65, 0, 0.35, 1);
                }
            }
        }
        #line{
            width:calc(100% - #{vw-calc(80 / 2 * 2)});
            height: vw-calc(1);
            background:#ffffff50;
            position: absolute;
            top:50%;
            left: 50%;
            transform: translate3d(-50%,-50%,0);
            span{
                // width:vw-calc(553 / ($child - 1));
                width:calc((553 / (#{var(--sectionnum)} - 1)) / 1920 * 100 * 1vw);
                height:vw-calc(1);
                background:#fff;
                display: block;
                position: absolute;
                top:0;
                transform: translate3d(0,0,0) scaleX(0);
                transform-origin: left;
            }
        }
    }
    #sectionWrap{
        // width:$halfScreenWidth * ($sectionnum + 1) * 1vw;
        width:calc(#{$halfScreenWidth} * (#{var(--sectionnum)} + 1) * 1vw);
        height:100%;
        position: relative;
        z-index: 2;
        opacity: 1;
        visibility: visible;
        transform: translate3d(100%,0,0);
        &.hide{
            opacity: 0;
            visibility: hidden;
        }
        .section{
            width:100vw;
            height:100vh;
            position: absolute;
            top:50%;
            background:#fff;
            transform: translate3d(-50%,-50%,0);
            overflow: hidden;
            clip-path: circle(20.3% at 50% 50%);
            transition: clip-path 1s cubic-bezier(0.83, 0, 0.17, 1);

            // @for $i from 1 through --sectionnum{
            //     &:nth-child(#{$i}) {
            //         left: $i * $halfScreenWidth * 1vw;
            //     }
            // }
            &.active{
                z-index: 2;
                clip-path: circle(75.0% at 50% 50%);
                #wrap{
                    clip-path: circle(75.0% at 50% 50%);
                    transition-delay: .1s;
                    p span, .img{
                        opacity: 0;
                        visibility: hidden;
                    }
                }
            }
            #wrap{
                width:100%;
                height:100%;
                background:#00B8C7;
                clip-path: circle(20.0% at 50% 50%);
                transition: clip-path 1s cubic-bezier(0.87, 0, 0.13, 1);
                p{
                    width:vw-calc(308);
                    height:vw-calc(194);
                    font-size:vw-calc(20);
                    line-height:vw-calc(27);
                    color:#fff;
                    position: absolute;
                    top:calc(50% - #{vw-calc(220)});
                    left:calc(50% - #{vw-calc(308/2)});
                    span{
                        transition: opacity .6s cubic-bezier(0.65, 0, 0.35, 1), visibility .6s cubic-bezier(0.65, 0, 0.35, 1);
                    }
                }
                .img{
                    width:vw-calc(653);
                    height:vw-calc(653);
                    position: absolute;
                    bottom:calc(50% - #{vw-calc(653/2)});
                    right:calc(50% - #{vw-calc(653/2)});
                    background:url('./images/building@2x.png') right bottom no-repeat;
                    background-size: 80%;
                    transform: translate3d(0,0,0) scale(.8);
                    transform-origin: right bottom;
                    transition: opacity .6s cubic-bezier(0.65, 0, 0.35, 1), visibility .6s cubic-bezier(0.65, 0, 0.35, 1);
                }
            }
        }
    }
    #contentNavWrap{
        position: fixed;
        bottom:vw-calc(84);
        right:0;
        z-index: 999;
        opacity: 0;
        visibility: hidden;
        transition: all .6s cubic-bezier(0.65, 0, 0.35, 1);
        &.active{
            opacity: 1;
            visibility: visible;
        }
        .contentNav{
            width:calc(100vw - #{vw-calc(455)});
            position: absolute;
            bottom: 0;
            right: 0;
            &.minimal{
                #wrap{
                    width:calc(50% - #{vw-calc(304.9)});
                }
            }
            #wrap{
                width:calc(100% - #{vw-calc(304.9)});
                position: relative;
                left:50%;
                transform: translate3d(-50%,0,0);
                transition: all .8s cubic-bezier(0.16, 1, 0.3, 1);
                ul{
                    display: flex;
                    justify-content: space-between;
                    li{
                        width:vw-calc(60);
                        height: vw-calc(60);
                        position: relative;
                        &:before{
                            content:'';
                            width:vw-calc(11);
                            height:vw-calc(11);
                            border-radius: 50%;
                            background:#fff;
                            position: absolute;
                            top:50%;
                            left:50%;
                            transform: translate3d(-50%,-50%,0) scale(1);
                        }
                        p{
                            font-size:vw-calc(17);
                            white-space: nowrap;
                            position: absolute;
                            bottom:100%;
                            left:50%;
                            color:#fff;
                            transform: translate3d(-50%,10%,0);
                            text-align: center;
                            span{
                                font-size: vw-calc(15);
                                line-height: vw-calc(19);
                                &:first-child{
                                    padding-bottom: vw-calc(6);
                                    display: inline-block;
                                }
                                &.category{
                                    font-size:vw-calc(17);
                                    line-height: vw-calc(17);
                                    &#planning{
                                        color:#B931F5;
                                    }
                                    &#house{
                                        color:#359E64;
                                    }
                                    &#traffic{
                                        color:#F5B131;
                                    }
                                }
                                
                            }
                        }
                    }
                }
                #line{
                    width:calc(100% - #{vw-calc(60)});
                    height: vw-calc(1);
                    background:#ffffff50;
                    position: absolute;
                    top: 50%;
                    left: 50%;
                    transform: translate3d(-50%,-50%,0);
                    span{
                        width:100%;
                        height:vw-calc(1);
                        background:#fff;
                        display: block;
                        position: absolute;
                        top:0;
                        transform: translate3d(0,0,0) scaleX(0);
                        transform-origin: left;
                    }
                }
            }
        }
    }
    #contentWrap{
        width:auto;
        height:100%;
        position: fixed;
        top:0;
        left:0;
        z-index: 998;
        display: flex;
        opacity: 0;
        visibility: hidden;
        &.active{
            opacity: 1;
            visibility: visible;
        }
        .content{
            width: auto;
            height:100%;
            position: relative;
            padding-left:vw-calc(455);
            display: flex;
            .item{
                height:100%;
                position: relative;
                text-align: center;
                font-size:vw-calc(50);
                padding:0 10vw;
                white-space: nowrap;
                color:#fff;
                // &:nth-child(odd){
                //     background:rgba(0, 100, 109, .3);
                // }
                // &:nth-child(even){
                //     background:rgba(0, 61, 66, 0.3);
                // }
                #wrap{
                    display: flex;
                    align-items: center;
                    padding-top:vw-calc(134);
                    .imgWrap{
                        width:vw-calc(549);
                        height:vw-calc(366);
                        position: relative;
                        overflow: hidden;
                        img{
                            width:100%;
                            height:100%;
                            position: absolute;
                            top:0;
                            left: 0;
                            transform: translate3d(0,0,0) scale(1.2);
                        }
                    }
                    #title{
                        padding:0 vw-calc(50);
                        font-size:vw-calc(68);
                        line-height: vw-calc(69);
                        font-weight: bold;
                        text-align: left;
                        span{
                            overflow: hidden;
                            display: inline-block;
                            span{
                                transform: translate3d(0,105%,0);
                            }
                        }
                    }
                }
            }
        }
    }
    #sidebarWrap{
        opacity: 0;
        visibility: hidden;
        position: fixed;
        top:0;
        left:0;
        z-index: 999;
        &.active{
            opacity: 1;
            visibility: visible;
            .sidebar{
                &.active{
                    #img{
                        opacity: 1;
                        visibility: visible;
                        transform: translate3d(calc(100vw - #{vw-calc(455 - 1)}), 1px, 0);
                        transition-duration: 1s, .6s, .6s;
                    }
                }
            }
        }
        .sidebar{
            width:vw-calc(455);
            height:100vh;
            position: absolute;
            top:0;
            left: 0;
            color:#fff;
            font-weight: bold;
            perspective: 600px;
            &.active{
                &:after{
                    transition-duration: 0s;
                    transform: translate3d(0,0,0) scaleX(1);
                }
                #des{
                    width:vw-calc(630);
                    height:vw-calc(297);
                    font-size: vw-calc(40);
                    line-height: vw-calc(55);
                    top:calc(52% - #{vw-calc(40)});
                    left:vw-calc(190);
                    transform: translate3d(0,-100%,0);
                }
                #date{
                    font-size: vw-calc(40);
                    top:calc(48% + #{vw-calc(40)});
                    left:vw-calc(190);
                }
            }
            &:after{
                content:'';
                width:100vw;
                height:100%;
                background:#00B8C7;
                position: absolute;
                top:0;
                left:0;
                z-index: -1;
                transform-origin: left;
                transform: translate3d(0,0,0) scaleX(calc(455 / 1920));
                transition: transform 1.6s cubic-bezier(0.16, 1, 0.3, 1);
            }
            #des{
                width:vw-calc(272);
                height:vw-calc(387);
                font-size: vw-calc(25);
                line-height: vw-calc(36);
                font-weight: normal;
                position: absolute;
                top:vw-calc(95);
                left:vw-calc(95);
                transform: translate3d(0,0%,0);
                transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
                span{
                    float: left;
                    overflow: hidden;
                    display: inline-block;
                }
            }
            #date{
                width:vw-calc(250);
                font-size: vw-calc(81);
                line-height: vw-calc(83);
                position: absolute;
                top:calc(48% + #{vw-calc(55)});
                left:vw-calc(95);
                overflow: hidden;
                transition: all 1s cubic-bezier(0.16, 1, 0.3, 1);
                span{
                    display: inline-block;
                    &:nth-child(2){
                        margin:0 vw-calc(10);
                    }
                }
            }
            #img{
                width:100vw;
                height:vw-calc(670);
                position: fixed;
                bottom:0%;
                right:0%;
                background:url('./images/building@2x.png') right bottom no-repeat;
                background-size: auto 100%;
                opacity: 0;
                visibility: hidden;
                transform: translate3d(calc(100vw - #{vw-calc(255)}), 1px, vw-calc(100));
                transform-origin: right bottom;
                transition: transform 1s cubic-bezier(0.16, 1, 0.3, 1), opacity .3s cubic-bezier(0.65, 0, 0.35, 1), visibility .3s cubic-bezier(0.65, 0, 0.35, 1);
            }
            #line{
                width:100vw;
                height:vw-calc(5);
                background:#fff;
                position: absolute;
                top:50%;
                left:0;
                transform: translate3d(0,-50%,0);
                transform-origin: left;
            }
        }
    }
}